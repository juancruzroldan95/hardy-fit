---
import Layout from "../layouts/Layout.astro";
import SectionContainer from "../components/SectionContainer.astro";

import AboutHeroSection from "../components/AboutHeroSection.astro";
import StorySection from "../components/StorySection.astro";
import ValuesSection from "../components/ValuesSection.astro";
import CTASection from "../components/CTASection.astro";
---

<Layout title="HARDY - Nuestra Esencia">
  <main class="pt-16">
    <SectionContainer
      id="hero"
      class="relative overflow-hidden"
      noContainer={true}
    >
      <AboutHeroSection
        titleColor="text-primary"
        titleSize="text-5xl md:text-6xl"
        descriptionColor="text-black"
      />
    </SectionContainer>

    <SectionContainer id="story" class="py-24 bg-primary">
      <StorySection titleColor="text-secondary" descriptionColor="text-white" />
    </SectionContainer>

    <SectionContainer id="values" class="py-24 bg-neutral-50">
      <ValuesSection
        titleColor="text-primary"
        bgColor="bg-white"
        iconColor="text-primary"
        cardTitleColor="text-primary"
        cardDescriptionColor="text-neutral-700"
      />
    </SectionContainer>

    <SectionContainer
      id="cta"
      class="py-24 bg-skyblue relative overflow-hidden"
    >
      <!-- Diagonal pattern overlay -->
      <div class="absolute inset-0 opacity-30">
        <div
          class="w-full h-full bg-repeat"
          style="background-image: repeating-linear-gradient(45deg, transparent, transparent 20px, rgba(255,255,255,0.4) 20px, rgba(255,255,255,0.4) 40px);"
        >
        </div>
      </div>

      <div class="relative z-10">
        <CTASection
          titleColor="text-primary"
          buttonBgColor="bg-primary"
          buttonTextColor="text-white"
        />
      </div>
    </SectionContainer>
  </main>
</Layout>

<script>
  import { animate, stagger, inView } from "motion";

  inView(
    ".scrolling-section",
    (element) => {
      animate(
        element,
        { opacity: [0, 1], y: [50, 0] },
        { ease: [0.39, 0.24, 0.3, 1], duration: 1 },
      );

      const cards = element.querySelectorAll(".card");
      if (cards.length > 0) {
        animate(
          cards,
          { opacity: [0, 1], y: [25, 0] },
          { type: "spring", delay: stagger(0.25, { startDelay: 0.25 }) },
        );
      }
    },
    { amount: 0.2 },
  );
</script>
